<!-- Sidenav -->
<app-sidebar></app-sidebar>
<div class="main-content">
  <!-- Top navbar -->
  <app-navbar></app-navbar>
  <!-- Pages -->
   <div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center" style="min-height: 50px;">
    <!-- Mask -->
    <span class="mask bg-gradient-info opacity-8"></span>
    <!-- Header container -->
    
  </div>
  <div class="container-fluid mt--7">
    <div class="row">
      <div class="col-xl-12 order-xl-1">
        <div class="card bg-secondary shadow">
          <div class="card-header bg-white border-0">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0">Registro de Eventos Generales de SADS</h3>
              </div>
              
            </div>
          </div>
          <div class="card-body">
            <form [formGroup]="formulario">
              
              <div class="pl-lg-4">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
                              <label class="form-control-label">Nombre</label>
                              <input type="text" formControlName="nombre" placeholder="Nombre del evento" class="form-control form-control-alternative">
                                <div *ngIf="formulario.controls['nombre'].invalid && formulario.controls['nombre'].dirty" class="alert alert-danger" role="alert">
                                  Nombre del evento es necesario
                                </div>
                            </div>
                        </div><!-- fin col-->
                    </div><!-- fin row-->
              </div>
              <!-- Description -->
                <div class="pl-lg-4">
                      <div class="form-group">
                        <label>Descripción</label>
                        <textarea formControlName="descripcion" placeholder="Descripción del evento" rows="4" class="form-control form-control-alternative"></textarea>
                          <div *ngIf="formulario.controls['descripcion'].invalid && formulario.controls['descripcion'].dirty" class="alert alert-danger" role="alert">
                            Descripción es necesario
                          </div>
                      </div>
                </div>

                <div class="pl-lg-4">
                  <div class="row">
                      <div class="col-lg-12">
                          <div class="form-group">
                            <label class="form-control-label">Municipio</label>
                              <select formControlName="municipio" class="custom-select mr-sm-2">
                               <option *ngFor="let ciudad of ciudades" value="{{ciudad.nombre}}">{{ ciudad.nombre}}</option>
                             </select>
                              <div *ngIf="formulario.controls['municipio'].invalid && formulario.controls['municipio'].dirty" class="alert alert-danger" role="alert">
                               Municipio es necesario
                              </div>
                          </div>
                      </div><!-- fin col-->
                  </div><!-- fin row-->
                </div>

                <div class="pl-lg-4">
                  <div class="form-group">
                    <label>Imagen</label>
                    <input type="file" class="form-control" name="avatar" (change)="onFileSelect($event)" />     
                  </div>
                </div>

                <div class="pl-lg-4">
                    <div class="form-group">
                      <label>Fecha del Evento</label>
                      <input type="date" formControlName="fechaEvento" class="form-control form-control-alternative">
                        
                    </div>
              </div>
                
              
             <div class="text-center">
                <button type="button" [disabled]="!formulario.valid" (click)="agregarEvento()" class="btn btn-primary">Registrar Evento</button>
              </div>
            </form><hr>
            <div *ngIf="envioForm" class="alert alert-primary alert-dismissible fade show" role="alert">
              <strong>  Evento registrado con éxito</strong> 
              <button type="button"  class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            
            </div>
          </div><!-- fin card body-->
        </div>
      </div>
    </div>
  </div>
  <router-outlet></router-outlet>
</div>
  <div class="container-fluid">
    <app-footer></app-footer>
  </div>